# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!
# This file is autogenerated using Emacs org-mode.

set $mod Mod4

set $notify exec notify-send -t 1000

set $up k
set $down j
set $left h
set $right l

set $ws1 "1: Term"
set $ws2 "2: Dev"
set $ws3 "3: Web"
set $ws4 "4: Mail"
set $ws5 "5: Media"
set $ws6 "6: Remote"
set $ws7 "7: Games"
set $ws8 "8: Misc1"
set $ws9 "9: Misc2"
set $ws10 "0: Misc3"

# Xresources file
# https://build.i3wm.org/docs/userguide.html#xresources
set_from_resource         $background_i3wm  background      #000000
set_from_resource         $foreground_i3wm  foreground      #000000
set_from_resource         $color00_i3wm         color0          #000000
set_from_resource         $color01_i3wm         color1          #000000
set_from_resource         $color02_i3wm         color2          #000000
set_from_resource         $color03_i3wm         color3          #000000
set_from_resource         $color04_i3wm         color4          #000000
set_from_resource         $color05_i3wm         color5          #000000
set_from_resource         $color06_i3wm   color6          #000000
set_from_resource         $color07_i3wm   color7          #000000
set_from_resource         $color08_i3wm   color8          #000000
set_from_resource         $color09_i3wm   color9          #000000
set_from_resource         $color10_i3wm         color10         #000000
set_from_resource         $color11_i3wm         color11         #000000
set_from_resource         $color12_i3wm         color12         #000000
set_from_resource         $color13_i3wm         color13         #000000
set_from_resource         $color14_i3wm         color14         #000000
set_from_resource         $color15_i3wm         color15         #000000

# Theme colors
# class                 border          backgr.         text            indic.                  child_border
# My colors
client.background $background_i3wm

client.focused          $foreground_i3wm  $background_i3wm  $foreground_i3wm $background_i3wm $background_i3wm
client.unfocused        $foreground_i3wm  $background_i3wm  $foreground_i3wm $background_i3wm $background_i3wm
client.focused_inactive $foreground_i3wm  $background_i3wm  $foreground_i3wm $background_i3wm $background_i3wm
client.urgent           $foreground_i3wm  $background_i3wm  $foreground_i3wm $background_i3wm $background_i3wm
client.placeholder      $foreground_i3wm  $background_i3wm  $foreground_i3wm $background_i3wm $background_i3wm

font pango:Fira Code Retina 6

set $refresh_i3status killall -SIGUSR1 i3status

# use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

bindsym $mod+F9 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym $mod+F8 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym $mod+f7 exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

bindsym $mod+F11 exec playerctl play-pause
bindsym $mod+F12 exec playerctl next
bindsym $mod+F10 exec playerctl previous

# screenshot
bindsym Print exec flameshot gui

# brightness
bindsym XF86MonBrightnessUp exec --no-startup-id brightnessctl set +1%
bindsym XF86MonBrightnessDown exec --no-startup-id brightnessctl set 1%-

bindsym $mod+F3 exec --no-startup-id brightnessctl set +1%
bindsym $mod+F2 exec --no-startup-id brightnessctl set 1%-

# browser
bindsym XF86MyComputer exec ${BROWSER}
bindsym $mod+b exec ${BROWSER}

# mail
bindsym XF86Mail exec ${MAIL_APP}
bindsym $mod+m exec ${MAIL_APP}

# text editor
bindsym $mod+n exec ${VISUAL}
bindsym $mod+Shift+n exec ${TERMINAL} -e ${EDITOR}

# file manager
bindsym $mod+e exec ${FILE}

# start a terminal
bindsym $mod+Return exec ${TERMINAL}
# start terminal + screen
bindsym $mod+Shift+Return exec ${TERMINAL} -e screen -m

# kill focused window
bindsym $mod+Shift+F4 kill
bindsym Mod1+F4 kill

# start rofi-menu
bindsym $mod+d exec --no-startup-id rofi -show drun -theme i3
#bindsym $mod+Shift-d exec --no-startup-id rofi-menu_full

bindsym $mod+shift+w exec rofi -theme i3 -show windowcd
bindsym $mod+w exec rofi -theme i3 -show window

# change focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
bindsym $mod+Control+h split h; exec $notify "Horizontal split"

# split in vertical orientation
bindsym $mod+Control+v split v exec $notify "Vertical split"

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle; exec $notify "Fullscreen toggle"

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+Control+s layout stacking; exec $notify "Stacking layout"
bindsym $mod+Control+w layout tabbed; exec $notify "Tabbed layout"
bindsym $mod+Control+e layout toggle split; exec $notify "Split toggle"

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle; exec $notify "Floating toggle"

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle; exec $notify "Window focus toggle"

# focus the parent container
bindsym $mod+Control+a focus parent; exec $notify "Focus parentcontainer"

# focus the child container
bindsym $mod+Control+d focus child; exec $notify "Focus child container"

# move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad; exec $notify "Moved to scratchpad"

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
bindsym $mod+minus scratchpad show; exec $notify "Show scratchpad"

# hardcoded
# TODO: use variable names
workspace $ws1 output VGA-0 primary
workspace $ws2 output VGA-0 primary
workspace $ws3 output VGA-0 primary
workspace $ws4 output VGA-0 primary
workspace $ws5 output VGA-0 primary
workspace $ws6 output VGA-1 right primary
workspace $ws7 output VGA-1 right primary
workspace $ws8 output VGA-1 right primary
workspace $ws9 output VGA-1 right primary
workspace $ws10 output VGA-1 right primary

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+bracketleft workspace prev
bindsym $mod+bracketright workspace next

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# moving to next/previous workspace using bracket{left,right}
bindsym Control+Mod1+bracketleft move to workspace previous
bindsym Control+Mod1+bracketright move to workspace next

# set workspace back_and_forth
workspace_auto_back_and_forth yes

# also set the binding
bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Shift+Tab move container to workspace back_and_forth

# switch output focus
bindsym $mod+Control+1 focus output primary
bindsym $mod+Control+2 focus output right

# moving workspace between output
bindsym $mod+Control+Shift+1 move workspace to output primary
bindsym $mod+Control+Shift+2 move workspace to output right

# reload the configuration file
bindsym $mod+Shift+F11 reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Control+r restart

# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec prompt "Exit i3? This will end your X session." "i3-msg exit"

# reboot
bindsym $mod+Shift+r exec prompt "Reboot computer?" "shutdown -r now"

# shutdown
bindsym $mod+Shift+q exec prompt "Shutdown computer?" "poweroff"

# resize window (you can also use the mouse for that)
mode "resize" {
# These bindings trigger as soon as you enter the resize mode

# Pressing left will shrink the window’s width.
# Pressing right will grow the window’s width.
# Pressing up will shrink the window’s height.
# Pressing down will grow the window’s height.
bindsym $left       resize shrink width 10 px or 10 ppt
bindsym $down       resize grow height 10 px or 10 ppt
bindsym $up         resize shrink height 10 px or 10 ppt
bindsym $right      resize grow width 10 px or 10 ppt

# same bindings, but for the arrow keys
bindsym Left        resize shrink width 10 px or 10 ppt
bindsym Down        resize grow height 10 px or 10 ppt
bindsym Up          resize shrink height 10 px or 10 ppt
bindsym Right       resize grow width 10 px or 10 ppt

# back to normal: Enter or Escape or $mod+r
bindsym Return mode "default"
bindsym Escape mode "default"
bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

bar {
  status_command i3status
  position bottom
  workspace_buttons yes
  mode dock
  colors {
    statusline          $color04_i3wm
    background          $background_i3wm
    separator           $color03_i3wm
    #                   BORDER          BACKGROUND        TEXT
    focused_workspace   $color03_i3wm   $color00_i3wm     $color02_i3wm
    inactive_workspace  $color00_i3wm   $color00_i3wm     $color02_i3wm
    active_workspace    $color00_i3wm   $color00_i3wm     $color01_i3wm
    urgent_workspace    $color01_i3wm   $background_i3wm  $color00_i3wm
    binding_mode        $color03_i3wm   $background_i3wm  $color00_i3wm
    }
}

bindsym $mod+Control+m bar mode toggle

# application autostart
exec --no-startup-id xsetroot -cursor_name left_ptr
exec --no-startup-id xset r rate 300 30
exec --no-startup-id xrdb -merge ~/.Xresources
exec --no-startup-id picom -b --config "${XDG_CONFIG_HOME}"/picom/picom.conf &
exec --no-startup-id /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec --no-startup-id udiskie -t
exec --no-startup-id iwgtk -i
exec --no-startup-id dunst -conf ~/.config/dunst/dunstrc
exec --no-startup-id /usr/lib/geoclue-2.0/demos/agent
#exec --no-startup-id polybar-launch
exec --no-startup-id light-locker
exec --no-startup-id nm-applet
exec --no-startup-id xsettingsd
exec --no-startup-id ~/.fehbg
exec --no-startup-id wal --theme solarized
exec --no-startup-id blueman-applet
exec --no-startup-id unclutter
exec --no-startup-id volumeicon

# window rule
for_window [class=".*"] border pixel 0
for_window [instance="(?)avucontrol"] floating enable
for_window [window_role="pop-up"] floating enable
for_window [instance="(?)ngrampa"] floating enable
for_window [window_role="GtkFileChooserDialog"] floating enable
for_window [title="(?)lsamixer"] floating enable
for_window [class="(?)tconfig-qt4"] floating enable
for_window [title="(?)mtui"] floating enable
for_window [window_role="buddy_list"] floating enable, resize set 360 680
for_window [window_role="conversation"] floating enable, resize set 480 680
for_window [class="(?)lueman-manager"] floating enable, resize set 512 256

# windows workspace assignment
# "1: Term"
# "2: Dev"
# "3: Web"
# "4: Mail"
# "5: Media"
# "6: Remote"
# "7: Games"
# "8: Misc1"
# "9: Misc2"
# "0: Misc3"

# 1
assign [class="XTerm"] $ws1
assign [class="URxvt"] $ws1
assign [class="Gnome-terminal"] $ws1
assign [class="Termite"] $ws1

# 2
assign [class="Emacs"] $ws2
assign [class="Leafpad"] $ws2
assign [class="L3afpad"] $ws2
assign [class="Gedit"] $ws2
assign [class="code-oss"] $ws2

# 3
assign [class="qutebrowser"] $ws3
assign [class="firefox"] $ws3
assign [class="google-chrome"] $ws3
assign [class="Nyxt"] $ws3
assign [class="pidgin"] $ws7

# 4
assign [class="Evolution"] $ws4
assign [class="thunderbird"] $ws4

# 5
assign [class="Rhythmbox"] $ws5
assign [class="vlc"] $ws5
assign [class="mpv"] $ws5
assign [class="Cheese"] $ws5
assign [class="Spotify"] $ws5
assign [class="Picard"] $ws5

# 6
assign [class="org.remmina.remmina"] $ws6
assign [class="Virt-manager"] $ws6
assign [class="Vncviewer"] $ws6

# 7
assign [class="Steam"] $ws7
assign [title="Steam"] $ws7

# 8
assign [title="Libreoffice"] $ws8
assign [title="com-sonicwall-NetExtender"] $ws8
assign [title="Bitwarden"] $ws8
assign [title="zoom"] $ws8

# 9
assign [class="Gucharmap"] $ws9
assign [class="org.gnome.Characters"] $ws9
assign [class="Thunar"] $ws9

#0
assign [class="winbox.exe"] $ws10

# floating
for_window [class="evolution-alarm-notify"] floating enable
for_window [class="Evolution-alarm-notify"] floating enable
